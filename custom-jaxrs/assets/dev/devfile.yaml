schemaVersion: 2.0.0
metadata:
  name: java-openliberty-custom
  version: 0.0.1
  description: Java application stack using Open Liberty runtime and Java Version 8 on Ubuntu
  alpha.build-dockerfile: "file://./assets/dev/Dockerfile"
  alpha.deployment-manifest: "https://raw.githubusercontent.com/OpenLiberty/application-stack/master/dev/app-deploy.yaml"
parent:
  uri: https://raw.githubusercontent.com/OpenLiberty/application-stack/master/dev/devfile.yaml
  components:
     - name: devruntime
       container:
         image: emezari/java-openliberty-j8-ubi:0.0.1
  commands:
    - id: run
      exec:
        component: devruntime 
        commandLine: mvn -Dmaven.repo.local=/mvn/repository -Dliberty.runtime.version=20.0.0.10 -Ddebug=false -DhotTests=true -DcompileWait=3 liberty:dev
    - id: run-test-off
      exec:
        component: devruntime
        commandLine: mvn -Dmaven.repo.local=/mvn/repository -Dliberty.runtime.version=20.0.0.10 -Ddebug=false liberty:dev
    - id: debug
      exec:
        component: devruntime 
        commandLine: mvn -Dmaven.repo.local=/mvn/repository -Dliberty.runtime.version=20.0.0.10 -DdebugPort=${DEBUG_PORT} liberty:dev -Dliberty.env.WLP_DEBUG_REMOTE=y
